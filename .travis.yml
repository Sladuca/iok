sudo: required
dist: xenial
language: node_js
node_js:
- '8'
before_install:
- python --version
- yes | sudo add-apt-repository ppa:deadsnakes/ppa
- sudo apt-get update
- sudo apt-get install python3.7
- sudo apt-get install python3-pip
- sudo apt install -y gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2
  libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0
  libgtk-3-0 libnspr4 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1
  libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2
  libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3
  lsb-release xdg-utils wget
install:
- cd $TRAVIS_BUILD_DIR/scraper && python3.7 -m pip install -r requirements.txt &&
  npm install
- npm install -g firebase-tools
- cd $TRAVIS_BUILD_DIR/v4 && npm install && npm run build
after_script:
- cd $TRAVIS_BUILD_DIR/scraper && ./scrape-awesome.sh
- cd $TRAVIS_BUILD_DIR/v4 && firebase deploy --project index-of-knowledge --token
  $FIREBASE_TOKEN
env:
  matrix:
    secure: A8W7JZPiQOIzLppZpoKl/qupW0hF7HRQKD6eDR6f9ai3N36QVLgL/YC13nDJbLJasnlGMUNCjTBlJStzGkwRJlxdyCukPfZ1/+zksmO7XUHhv6/ZYcRu4tLz1YYdBi+ZGQDdBP9AbubMehXu7qPlNbIIeRrxXLgCuK/Zd3mbzNXk2V6dakg4C8qfkvQSToI249bqe3Z7Xc1mqvQfSK1ZV0YAkILzdBAyvAQiOr4WN0v7uO0dKb+gK56ngY6PM/rFlx79+j585fvZbM9uSdS+YApzr0JF6LH8wBS6khvfi6SEWGqmgGXFQ3U9HRt+cLg97fuvwNeqBLWevR9U4nCnNTRf4mpnvrObu0B5frnHOdTe+JTKSBissVxbm16cY/mS+S+xSGma/6ahcsM29sSChn5XeW6Co/kERjNdBFeP6sVvc9W1tSn/BsxrRXEqv1JXGBBhZ/uFBmyxZ0qBAlybtGtcI0Wr5/egueTKXYWHcQ9BSkS41Z5Yq8rpYYtgvd8v9K1RItaYjtyDIE3MTM0k2vcvIBEuCvO6bP98pOctXiVFOln0xbNjdLfzArgQeDN+wU72a0cNpKNn5374ifrGEI9FuLNFKbGrOSRo/AyKWg88G3PoF+djOW1lSYgkiRaDvFFIxEVGrBF6mlUp3qMqiGxGXM4covLK5387vb+yu5g=
